# DofusLab Spell parser

Script to generate a semi-automated version of the current spells in Dofus to simplify getting DofusLab up-to-date.

## How to use

First we must understand folder structure - we need an input folder and an output one.

- Input will take a json version of the game files, which can be obtained with [UABEA](https://github.com/nesrak1/UABEA) for now, until a better way has been found.
- The script will generate some files it needs to run under the `./temp` folder and clean up the folder afterwards.
- Output will be the autogenerated files that we can now use to edit DofusLab spell file (keeping in mind this is by no means a copy-pasteable version, there's some manual work involved like some duplicated effects on skills that have alternative effects, for example Morph, which will look like having 4 lines of damage).

### So, how do we use it then?

- We must place a json copy of the following files into the `input` folder:
  `effects.json, de.json, en.json, es.json, fr.json, it.json, pt.json, spell_levels.json, spell_pairs.json, spells.json, spell_states.json, spell_variants.json`, `monsters.json`.

- Execute `node .\generate.js` in order to generate the new data from the files.

- Then, the `output` folder will contain the `translatedEffects.json` file that we can use to start correlating with DofusLab files.

### Current todos

- Accept params to keep the temp folder for debug purposes (it does what it does in small steps so it's easy to pinpoint the location of things that fail, or to compare a step with the previous or the next).
- Integrate unpacking the client with the script directly since UABEA is very manual. This could be done by downloading files from another unpacker in the community or handing it over to the application regardless.
- Figure out areas of effect.
